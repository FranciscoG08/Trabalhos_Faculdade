<Page
    x:Class="Restaurante_UWP.Views.Pedidos.PedidoFormPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Restaurante_UWP.Views.Pedidos"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#003366" Offset="0" />
            <GradientStop Color="#004080" Offset="0.5" />
            <GradientStop Color="#0066cc" Offset="1" />
        </LinearGradientBrush>
    </Page.Background>

    <Grid>
        <Ellipse Fill="{ThemeResource SystemAccentColor}"
                 Height="200" 
                 HorizontalAlignment="Center" 
                 VerticalAlignment="Top" 
                 Margin="0,0,0,-100" />
        <TextBlock Text="Criar/Editar Pedido"
                   Foreground="White" 
                   FontSize="28" 
                   FontWeight="Bold" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Top" 
                   Margin="0,80,0,0"/>

        <Grid Margin="20,200,20,20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Spacing="20" HorizontalAlignment="Center">
                <Border Background="LightSeaGreen"
                        Width="350"
                        CornerRadius="25"
                        Padding="10">
                    <TextBox x:Name="txtNomeCli" Header="Nome do Cliente"
                             PlaceholderText="Insira o nome do cliente..."
                             FontSize="16"
                             BorderThickness="0"
                             Text="{x:Bind PedidoViewModel.Pedido.Clientes.Nome,
                                     Mode=TwoWay,
                                     UpdateSourceTrigger=PropertyChanged}" />
                </Border>

                <Border Background="LightSeaGreen"
                        Width="350"
                        CornerRadius="25"
                        Padding="10">
                    <TextBox x:Name="txtNIF" Header="NIF"
                             PlaceholderText="Insira o NIF do cliente..."
                             FontSize="16"
                             BorderThickness="0"
                             Text="{x:Bind PedidoViewModel.Pedido.Clientes.NIF,
                                     Mode=TwoWay,
                                     UpdateSourceTrigger=PropertyChanged}" />
                </Border>

                <Border Background="LightSeaGreen"
                        Width="350"
                        CornerRadius="25"
                        Padding="10">
                    <TextBox x:Name="txtNomeEmp" Header="Empregado"
                             PlaceholderText="Insira o nome do empregado..."
                             FontSize="16"
                             BorderThickness="0"
                             Text="{x:Bind PedidoViewModel.Pedido.Empregados.Nome,
                                     Mode=TwoWay,
                                     UpdateSourceTrigger=PropertyChanged}" />
                </Border>

                <Border Background="LightSeaGreen"
                        Width="350"
                        CornerRadius="25"
                        Padding="10">
                    <TextBox x:Name="txtMesa" Header="Mesa"
                             PlaceholderText="Insira o número da mesa..."
                             FontSize="16"
                             BorderThickness="0"
                             Text="{x:Bind PedidoViewModel.Pedido.Mesas.Numero,
                                     Mode=TwoWay,
                                     UpdateSourceTrigger=PropertyChanged}" />
                </Border>

            </StackPanel>

            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center"
                        VerticalAlignment="Bottom" Spacing="30" Margin="0,40,0,0">
                <Button x:Name="btnSave" 
                        Content="✔" 
                        Width="70" 
                        Height="70"
                        Background="{ThemeResource SystemAccentColor}" 
                        Foreground="White" 
                        FontSize="24"
                        CornerRadius="35"
                        Click="btnSave_Click"
                        IsEnabled="{x:Bind PedidoViewModel.Valid, Mode=OneWay}">
                    <Button.Flyout>
                        <Flyout>
                            <Border Background="Red" Padding="10" CornerRadius="10">
                                <TextBlock Text="Não é possível adicionar este pedido" Foreground="White"/>
                            </Border>
                        </Flyout>
                    </Button.Flyout>
                </Button>

                <Button x:Name="btnCancel"
                        Content="✖"
                        Width="70"
                        Height="70"
                        Background="red" 
                        Foreground="White" 
                        FontSize="24"
                        CornerRadius="35"
                        Click="btnCancel_Click"/>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
